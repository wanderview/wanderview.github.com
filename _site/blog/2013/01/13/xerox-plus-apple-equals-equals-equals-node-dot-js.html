<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.4.0 -->
<title>Xerox + Apple === Node.js | wanderview</title>
<meta name="generator" content="Jekyll v3.7.3" />
<meta property="og:title" content="Xerox + Apple === Node.js" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="My name is Ben Kelly. I’m a software engineer working on the DOM team at Mozilla." />
<meta property="og:description" content="My name is Ben Kelly. I’m a software engineer working on the DOM team at Mozilla." />
<link rel="canonical" href="http://localhost:4000/blog/2013/01/13/xerox-plus-apple-equals-equals-equals-node-dot-js.html" />
<meta property="og:url" content="http://localhost:4000/blog/2013/01/13/xerox-plus-apple-equals-equals-equals-node-dot-js.html" />
<meta property="og:site_name" content="wanderview" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2013-01-13T21:02:00-05:00" />
<script type="application/ld+json">
{"description":"My name is Ben Kelly. I’m a software engineer working on the DOM team at Mozilla.","@type":"BlogPosting","url":"http://localhost:4000/blog/2013/01/13/xerox-plus-apple-equals-equals-equals-node-dot-js.html","headline":"Xerox + Apple === Node.js","dateModified":"2013-01-13T21:02:00-05:00","datePublished":"2013-01-13T21:02:00-05:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/blog/2013/01/13/xerox-plus-apple-equals-equals-equals-node-dot-js.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="wanderview" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">wanderview</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
              <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
              <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/archive.html">Archive</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Xerox + Apple === Node.js</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2013-01-13T21:02:00-05:00" itemprop="datePublished">Jan 13, 2013
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p><img class="pull-right" src="/images/xerox6128mfp.jpg" width="275" /></p>

<!-- more -->

<p>In 2010 my wife and I decided to buy a fancy all-in-one, networked, laser
printer and scanner.  We were tired of the long, onerous tasks of cleaning
ink cartridges and walking over to the scanner to plug in our laptops.  A
person can only take so much.</p>

<p>After extensive research we settled on a <a href="http://www.office.xerox.com/multifunction-printer/color-multifunction/phaser-6128mfp/enus.html">Xerox Phaser 6128MFP</a>.  It was
a color printer with built-in ethernet.  Scanning wrote files directly to a
shared drive or sent them over email.  It wasn’t cheap, but clearly this was
the device for us.  After a few minutes on <a href="http://newegg.com">Newegg</a> it was ours.</p>

<p>For nearly a year, all was well.  We scanned.  We printed.  A few times in
color at first, to prove that it worked, and then mostly in black-and-white
so as not to be wasteful.</p>

<p><img class="pull-left" src="/images/apple-mac-os-x-lion-10-7.jpg" /></p>

<p>Then in August, 2011 we decided to upgrade our laptops.  Snow Leopard was
clearly not fierce enough and we needed to move to Lion.  I had waited
a full month after release to upgrade in an attempt to avoid major problems.
There were a few complaints online, but overall it seemed like a safe upgrade.</p>

<p>Of course, after installing Lion we ran into problems.  Low and behold, Apple
had chosen to discontinue support for the NetBIOS session protocol including
SMB over NetBIOS.  Its as if they thought a <a href="http://tools.ietf.org/rfc/rfc1002.txt">protocol from 1987</a>
wasn’t good enough any more.  This <a href="https://discussions.apple.com/thread/3208098?start=0&amp;tstart=0">broke networked scanning</a> for many
people, including us.</p>

<p>No problem, I thought, I’ll just switch to the email delivery method instead.
I soon discovered, however, that the Xerox firmware only supports sending
email over unencrypted SMTP.  Besides the obvious security concerns, this
would not work because both my wife and I use gmail which requires SSL/TSL.</p>

<p>This left us with only a few solutions:</p>

<ol>
  <li>Try <a href="https://discussions.apple.com/thread/3196311?start=30&amp;tstart=">configuration changes</a> reported to have varying levels of success.</li>
  <li>Install and configure Samba on both our laptops.</li>
  <li>Setup a linux server on our home network to server as an SMTP MTA or file
server.</li>
  <li>Walk over to the scanner and plug the USB cable into the laptop.</li>
</ol>

<p><img class="pull-right" src="/images/nodejs-dark.png" width="245" /></p>

<p>After careful consideration I have chosen to try something completely
different:</p>

<p>I’m now working on a <a href="http://nodejs.org">Node.js</a> server to receive scanned files over
NetBIOS/SMB and push them up to <a href="http://dropbox.com">Dropbox</a>.</p>

<p>Ultimately I’d like to host this server on an embedded device like a
<a href="http://www.raspberrypi.org/">Raspberry Pi</a>, <a href="http://soekris.com/">Soekris</a>, or <a href="https://www.gumstix.com/">Gumstix</a>.  To make it easier to
deploy on these platforms I’m working towards a pure JavaScript
implementation.</p>

<p>While not the most direct solution, it has a number of benefits:</p>

<ul>
  <li>Provides a permanent solution that is uncoupled from our chosen laptop
operating systems.</li>
  <li>Gives me the opportunity to learn more about node.js, JavaScript, and
some new (to me) protocols.  I’d rather learn about these things than
configuration files.</li>
  <li>Allows me to contribute some code and get more involved with the node.js
community.</li>
  <li>Could potentially provide a foundation for integrating any number of legacy
devices and applications.  There are undoubtedly small business and
enterprise IT shops trying to figure out how to tie their aging, legacy
equipment into fancy new cloud services.  Perhaps this code will be helpful.</li>
</ul>

<p>I figure as long as I am starting a project, I might as well start a blog as
well.  While all the code is hosted on <a href="http://www.github.com/wanderview">GitHub</a>, I’ll periodically post
more updates on my progress here.  The next post will be coming soon and will
cover proxying NetBIOS sessions using node.js.</p>


  </div><a class="u-url" href="/blog/2013/01/13/xerox-plus-apple-equals-equals-equals-node-dot-js.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">wanderview</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">wanderview</li><li><a class="u-email" href="mailto:ben@wanderview.com">ben@wanderview.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/wanderview"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">wanderview</span></a></li><li><a href="https://toot.cafe/@wanderview"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#mastodon"></use></svg> <span class="username">wanderview</span></a></li><li><a href="/feed.xml"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#rss"></use></svg> <span>subscribe</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>My name is Ben Kelly.  I&#39;m a software engineer working on the DOM team at Mozilla.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
