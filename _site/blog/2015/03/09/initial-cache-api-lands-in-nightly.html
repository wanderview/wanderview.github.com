<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.4.0 -->
<title>Initial Cache API Lands in Nightly | wanderview</title>
<meta name="generator" content="Jekyll v3.7.3" />
<meta property="og:title" content="Initial Cache API Lands in Nightly" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Its been two busy weeks since the last Service Worker build and a lot has happened. The first version of the Cache API has landed in Nightly along with many other improvements and fixes." />
<meta property="og:description" content="Its been two busy weeks since the last Service Worker build and a lot has happened. The first version of the Cache API has landed in Nightly along with many other improvements and fixes." />
<link rel="canonical" href="http://localhost:4000/blog/2015/03/09/initial-cache-api-lands-in-nightly.html" />
<meta property="og:url" content="http://localhost:4000/blog/2015/03/09/initial-cache-api-lands-in-nightly.html" />
<meta property="og:site_name" content="wanderview" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2015-03-09T11:30:00-04:00" />
<script type="application/ld+json">
{"description":"Its been two busy weeks since the last Service Worker build and a lot has happened. The first version of the Cache API has landed in Nightly along with many other improvements and fixes.","@type":"BlogPosting","url":"http://localhost:4000/blog/2015/03/09/initial-cache-api-lands-in-nightly.html","headline":"Initial Cache API Lands in Nightly","dateModified":"2015-03-09T11:30:00-04:00","datePublished":"2015-03-09T11:30:00-04:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/blog/2015/03/09/initial-cache-api-lands-in-nightly.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="wanderview" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">wanderview</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
              <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
              <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/archive.html">Archive</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Initial Cache API Lands in Nightly</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2015-03-09T11:30:00-04:00" itemprop="datePublished">Mar 9, 2015
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>Its been two busy weeks since the last Service Worker build and a lot has
happened.  The first version of the Cache API has landed in Nightly along
with many other improvements and fixes.</p>

<!-- more -->

<p>The Cache landing is nice because it was the largest set of patches blocking
users from testing directly in Nightly.  Finally getting it into the tree brings
us much closer to the point where we don’t need these custom builds any more.</p>

<p>We’re not there yet, though.  The custom builds will still be needed until
the following two issues are fixed:</p>

<ul>
  <li>Cache.put() current does not work.  In order to fix this we must integrate
Cache with the CrossProcessPipe.  These patches have been in the custom builds
from the start, but we must complete the work in order for most Service Worker
sites to be usable on Nightly. | <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1110814">bug 1110814</a></li>
  <li>Service Worker scripts and their dependencies are not currently saved for
offline access.  Obviously, we must fix this in order for Service Workers
to provide true offline support.  This feature is in progress, but unfortunately
is not in the custom build yet. | <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=931249">bug 931249</a></li>
</ul>

<p>Once these two bugs are fixed we will begin encouraging the community to test
with Nightly directly.</p>

<p>This week’s build was updated as of yesterday, March 8:</p>

<p><a href="/sw-builds">Firefox Service Worker Builds</a></p>

<p>This build includes the following feature changes in Nightly:</p>

<ul>
  <li>
    <table>
      <tbody>
        <tr>
          <td>Cache API</td>
          <td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=940273">bug 940273</a></td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>FetchDriver channel stalls when Service Worker returns from fetch event too
early | <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1130803">bug 1130803</a></li>
  <li>
    <table>
      <tbody>
        <tr>
          <td>remove Service Worker Cache “prefixMatch” option</td>
          <td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1130452">bug 1130452</a></td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>ServiceWorkerGlobalScope.close() should throw InvalidAccessError |
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1131353">bug 1131353</a></li>
  <li>
    <table>
      <tbody>
        <tr>
          <td>ServiceWorkerClients API spec changes</td>
          <td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1058311">bug 1058311</a></td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <table>
      <tbody>
        <tr>
          <td>Remove ServiceWorkerGlobalScope.scope</td>
          <td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1132673">bug 1132673</a></td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>ServiceWorker: client.postMessage should be dispatched to
navigator.serviceWorker.onmessage | <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1136467">bug 1136467</a></li>
</ul>

<p>It also includes these bug fixes:</p>

<ul>
  <li>navigator.serviceWorker.controller does not track underlying state |
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1131882">bug 1131882</a></li>
  <li>
    <table>
      <tbody>
        <tr>
          <td>Fix registration persistence in some activation cases</td>
          <td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1131874">bug 1131874</a></td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <table>
      <tbody>
        <tr>
          <td>Don’t persist registrations that fail</td>
          <td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1132141">bug 1132141</a></td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>FetchDriver should check content load policy before proceeding |
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1139665">bug 1139665</a></li>
  <li>Use correct principal for channel which updates ServiceWorker |
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1137419">bug 1137419</a></li>
  <li>
    <table>
      <tbody>
        <tr>
          <td>Seg Fault when calling cache.matchAll without parameters</td>
          <td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1138916">bug 1138916</a></td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <table>
      <tbody>
        <tr>
          <td>Crash in ActorChild::SetFeature</td>
          <td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1140065">bug 1140065</a></td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>Fix -Winconsistent-missing-override warnings introduced in Cache API |
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1139603">bug 1139603</a></li>
  <li>
    <table>
      <tbody>
        <tr>
          <td>disallow creating nested workers from ServiceWorker</td>
          <td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1137398">bug 1137398</a></td>
        </tr>
      </tbody>
    </table>
  </li>
</ul>

<p>Finally, a number of testing changes were made:</p>

<ul>
  <li>Replace getServiced() with matchAll() in a couple of ServiceWorker tests |
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1137477">bug 1137477</a></li>
  <li>
    <table>
      <tbody>
        <tr>
          <td>Various ServiceWorker test fixes</td>
          <td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1139561">bug 1139561</a></td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <table>
      <tbody>
        <tr>
          <td>Remove activatingWorker warning in ServiceWorkerManager</td>
          <td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1139990">bug 1139990</a></td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>Remove a couple of unused test functions on ServiceWorkerContainer |
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1140120">bug 1140120</a></li>
  <li>
    <table>
      <tbody>
        <tr>
          <td>nice to have a test-interfaces.html for ServiceWorkers</td>
          <td><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1137816">bug 1137816</a></td>
        </tr>
      </tbody>
    </table>
  </li>
</ul>

<p>Many thanks to all the contributors:</p>

<ul>
  <li><a href="https://twitter.com/baku82845977">Andrea Marchesini</a></li>
  <li><a href="https://plus.google.com/+CatalinBadea/about">Catalin Badea</a></li>
  <li><a href="https://twitter.com/CodingExon">Daniel Holbert</a></li>
  <li><a href="https://twitter.com/ehsanakhgari">Ehsan Akhgari</a></li>
  <li><a href="https://twitter.com/Gioyik">Giovanny Gongora</a></li>
  <li><a href="http://www.janbambas.cz/">Honza Bambas</a></li>
  <li>Jason Gersztyn</li>
  <li><a href="https://twitter.com/lastontheboat">Josh Mathews</a></li>
  <li><a href="https://twitter.com/nikhilcutshort">Nikhil Marathe</a></li>
</ul>

<p>Please let us know if you find any new issues.  Thank you!</p>


  </div><a class="u-url" href="/blog/2015/03/09/initial-cache-api-lands-in-nightly.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">wanderview</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">wanderview</li><li><a class="u-email" href="mailto:ben@wanderview.com">ben@wanderview.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/wanderview"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">wanderview</span></a></li><li><a href="https://toot.cafe/@wanderview"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#mastodon"></use></svg> <span class="username">wanderview</span></a></li><li><a href="/feed.xml"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#rss"></use></svg> <span>subscribe</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>My name is Ben Kelly.  I&#39;m a software engineer working on the DOM team at Mozilla.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
